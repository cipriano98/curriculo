# Migration `20200925174931-updates`

This migration has been generated by cipriano98 at 9/25/2020, 2:49:32 PM.
You can check out the [state of the schema](./schema.prisma) after the migration.

## Database Steps

```sql
ALTER TABLE "public"."User" ADD COLUMN "preferencialname" text   ,
ALTER COLUMN "datebirth" DROP NOT NULL

CREATE UNIQUE INDEX "User.nickname_unique" ON "public"."User"("nickname")
```

## Changes

```diff
diff --git schema.prisma schema.prisma
migration 20200925002043-updates..20200925174931-updates
--- datamodel.dml
+++ datamodel.dml
@@ -2,9 +2,9 @@
 // learn more about it in the docs: https://pris.ly/d/prisma-schema
 datasource db {
   provider = "postgresql"
-  url = "***"
+  url = "***"
 }
 generator client {
   provider = "prisma-client-js"
@@ -20,19 +20,20 @@
   updatedat DateTime @updatedAt
 }
 model User {
-  id        Int      @default(autoincrement()) @id
-  key       String   @default(uuid())
-  email     String   @unique
-  cpf       String   @unique
-  datebirth String
-  fullname  String
-  nickname  String?
-  role      Role     @default(CANDIDATE)
-  Profile   Profile?
-  createdat DateTime @default(now())
-  updatedat DateTime @updatedAt
+  id               Int      @default(autoincrement()) @id
+  key              String   @default(uuid())
+  fullname         String
+  email            String   @unique
+  cpf              String   @unique
+  role             Role     @default(CANDIDATE)
+  datebirth        String?
+  nickname         String?  @unique
+  preferencialname String?
+  Profile          Profile?
+  createdat        DateTime @default(now())
+  updatedat        DateTime @updatedAt
 }
 enum Role {
   USER
```


