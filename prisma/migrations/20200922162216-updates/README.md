# Migration `20200922162216-updates`

This migration has been generated by cipriano98 at 9/22/2020, 1:22:16 PM.
You can check out the [state of the schema](./schema.prisma) after the migration.

## Database Steps

```sql
CREATE TYPE "public"."Role" AS ENUM ('USER', 'ADMIN')

ALTER TABLE "public"."Profile" ADD COLUMN "pseudonym" text   

ALTER TABLE "public"."User" DROP COLUMN "name",
DROP COLUMN "created",
DROP COLUMN "updated",
ADD COLUMN "firstname" text   ,
ADD COLUMN "lastname" text   ,
ADD COLUMN "role" "Role"  NOT NULL DEFAULT E'USER',
ADD COLUMN "createdat" timestamp(3)   NOT NULL DEFAULT CURRENT_TIMESTAMP,
ADD COLUMN "updatedat" timestamp(3)   NOT NULL DEFAULT CURRENT_TIMESTAMP
```

## Changes

```diff
diff --git schema.prisma schema.prisma
migration 20200922155824-updates..20200922162216-updates
--- datamodel.dml
+++ datamodel.dml
@@ -2,30 +2,38 @@
 // learn more about it in the docs: https://pris.ly/d/prisma-schema
 datasource db {
   provider = "postgresql"
-  url = "***"
+  url = "***"
 }
 generator client {
   provider = "prisma-client-js"
 }
 // * models
 model Profile {
-  id      Int      @default(autoincrement()) @id
-  bio     String?
-  User    User     @relation(fields: [userId], references: [id])
-  userId  Int      @unique
-  created DateTime @default(now())
-  updated DateTime @default(now())
+  id        Int      @default(autoincrement()) @id
+  bio       String?
+  pseudonym String?
+  User      User     @relation(fields: [userId], references: [id])
+  userId    Int      @unique
+  created   DateTime @default(now())
+  updated   DateTime @default(now())
 }
 model User {
-  id      Int      @default(autoincrement()) @id
-  email   String   @unique
-  pass    String
-  name    String?
-  Profile Profile?
-  created DateTime @default(now())
-  updated DateTime @default(now())
+  id        Int      @default(autoincrement()) @id
+  email     String   @unique
+  pass      String
+  firstname String?
+  lastname  String?
+  Profile   Profile?
+  role      Role     @default(USER)
+  createdat DateTime @default(now())
+  updatedat DateTime @default(now())
 }
+
+enum Role {
+  USER
+  ADMIN
+}
```


